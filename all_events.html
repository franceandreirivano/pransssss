<!DOCTYPE html>
<html lang="en">
<head>
    <title>All Events</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

</head>
<body>
<h2>All Events</h2>
<table border="1" cellpadding="8" cellspacing="0">
  <tr>
    <th>Title</th>
    <th>Date</th>
    <th>Created By</th>
    <th>Action</th>
  </tr>
  {% for event in events %}
  <tr>
    <td>{{ event["title"] }}</td>
    <td>{{ event["event_date"] }}</td>
    <td>{{ event["created_by"] }}</td>
    <td><a href="{{ url_for('register_event', event_id=event['id']) }}">Register</a></td>
  </tr>
  {% else %}
  <tr><td colspan="4" style="text-align:center;">No events available.</td></tr>
  {% endfor %}
</table>
<p><a href="{{ url_for('dashboard') }}">Back to Dashboard</a></p>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% for category, msg in messages %}
    <p style="color: {% if category == 'error' %}red{% else %}green{% endif %};">{{ msg }}</p>
  {% endfor %}
{% endwith %}
</body>
</html>
